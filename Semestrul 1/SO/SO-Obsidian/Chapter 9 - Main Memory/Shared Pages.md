
- An advantage of paging is the possibility of sharing common code, a consideration that is particularly important in an environment with multiple processes. Consider the standard C library, which provides a portion of the system call interface for many versions of UNIX and Linux. On a typical Linux system, most user processes require the standard C library `libc`. One option is to have each process load its own copy of `libc` into its address space. If a system has 40 user processes, and the `libc` library is 2 MB, this would require <span style="color:rgb(112, 48, 160)">80 MB</span> of memory.
- If the code is <span style="color:rgb(112, 48, 160)">reentrant</span> <span style="color:rgb(112, 48, 160)">code</span>, however, it can be shared, as shown in <span style="color:rgb(112, 48, 160)">Figure 9.14</span>. Here, we see three processes sharing the pages for the standard C library `libc`. <span style="color:rgb(112, 48, 160)">Reentrant</span> code is non-self-modifying code: it never changes during execution. Thus, two or more processes can execute the same code at the same time. Each process has its own copy of registers and data storage to hold the data for the processâ€™s execution. The data for two different processes will, of course, be different. Only one copy of the standard C library need be kept in physical memory, and the page table for each user process maps onto the same physical copy of `libc`. Thus, to support 40 processes, we need only one copy of the library, and the total space now required is <span style="color:rgb(112, 48, 160)">2 MB instead of 80 MB</span>.
- ![[Pasted image 20250214132125.png]]
- The sharing of memory among processes on a system is similar to the sharing of the address space of a task by threads, described in [[Chapter 4 - Threads]]. Furthermore, recall that in [[Chapter 3 - Processes]] we described shared memory as a method of interprocess communication. Some operating systems implement shared memory using shared pages.